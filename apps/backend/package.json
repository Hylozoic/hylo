{
  "name": "backend",
  "description": "Hylo Server",
  "keywords": [],
  "author": "Hylo <hello@hylo.com>",
  "license": "Apache-2.0",
  "private": true,
  "version": "6.0.5",
  "nyc": {
    "sourceMap": false,
    "instrument": false,
    "require": [
      "@babel/register"
    ]
  },
  "main": "app.js",
  "engines": {
    "node": "^20",
    "yarn": "^4.5.0"
  },
  "packageManager": "yarn@4.5.0",
  "scripts": {
    "start": "node --optimize_for_size --gc_interval=100 app.js",
    "console": "node console.js",
    "cron": "node cron.js",
    "generate-rsa-key-base64": "openssl genrsa 2048 | base64",
    "worker": "node --optimize_for_size --gc_interval=100 worker.js",
    "migrate": "node migrations/scripts/updateMigrationsTable.js && node ./node_modules/.bin/knex migrate:latest",
    "migrate-up": "node migrations/scripts/updateMigrationsTable.js && node ./node_modules/.bin/knex migrate:up",
    "rollback": "node ./node_modules/.bin/knex migrate:rollback",
    "migrate-make": "node ./node_modules/.bin/knex migrate:make",
    "debug": "node-debug app.js",
    "dev": "yarn workspace @hylo/shared build && nf -j Procfile.dev -p 3001 start -t 1000",
    "dump": "pg_dump -Osx hylo | sed -e 's/; Tablespace: $//' -e 's/CREATE SCHEMA public;//' -e 's/ AS \"?column?\"//' -e \"s/'search_path', ''/'search_path', 'public'/\"  > migrations/schema.sql",
    "dump-docker": "docker exec devcontainer-db-1 pg_dump -Osx hylo -U postgres | sed -e 's/; Tablespace: $//' -e 's/CREATE SCHEMA public;//' -e 's/ AS \"?column?\"//' -e \"s/'search_path', ''/'search_path', 'public'/\"  > migrations/schema.sql",
    "test": "mocha -r test/setup/core -r @babel/register --exit",
    "cover": "./node_modules/.bin/nyc --cache -a -r lcov ./node_modules/.bin/mocha -r test/setup/core --require @babel/register -R dot --exit",
    "knex": "knex",
    "update-migrations": "node ./migrations/scripts/updateMigrationsTable",
    "heroku-postbuild": "yarn install"
  },
  "devDependencies": {
    "@babel/cli": "^7.17.6",
    "@faker-js/faker": "^6.3.1",
    "babel-plugin-istanbul": "^2.0.3",
    "chai": "^4.2.0",
    "chai-as-promised": "^7.1.1",
    "chai-datetime": "^1.7.0",
    "chai-spies": "^1.0.0",
    "chai-things": "^0.2.0",
    "foreman": "^3.0.1",
    "i18n": "^0.8.3",
    "mocha": "^9.0.0",
    "mock-require": "^2.0.2",
    "nock": "^13.5.5",
    "nodemon": "^1.12.1",
    "nyc": "^10.0",
    "socket.io-client": "^2.3.1",
    "standard": "^17.1.2"
  },
  "dependencies": {
    "@airbnb/node-memwatch": "^2.0.0",
    "@babel/core": "^7.17.9",
    "@babel/preset-env": "^7.16.11",
    "@babel/register": "^7.17.7",
    "@emoji-mart/data": "^1.0.6",
    "@graphql-yoga/redis-event-target": "^3.0.3",
    "@hylo/shared": "workspace:*",
    "@mapbox/mapbox-sdk": "^0.13.3",
    "@sailshq/connect-redis": "^6.1.3",
    "@sailshq/socket.io-redis": "^6.1.2",
    "analytics-node": "^1.2.0",
    "apple-signin-auth": "^1.2.1",
    "async-repl": "0.4.0",
    "autolinker": "^4.0.0",
    "aws-sdk": "^2.1565.0",
    "bcrypt": "^5.0.1",
    "bluebird": "^2.3.11",
    "body-parser": "^1.17.2",
    "bookshelf": "^1.2.0",
    "busboy": "^0.3.1",
    "cheerio": "^1.0.0",
    "cors": "^2.8.5",
    "csv": "^5.3.2",
    "csv-parser": "^1.7.0",
    "csv-stringify": "^5.6.2",
    "dataloader": "^1.2.0",
    "dotenv": "16.4.5",
    "dotenv-cli": "7.4.2",
    "ejs": "^2.5.5",
    "emoji-mart": "^5.2.2",
    "ent": "^2.2.0",
    "file-type": "^6.1.0",
    "gaze": "^1.1.3",
    "glob": "^5.0.15",
    "graphql": "^16.10.0",
    "graphql-type-json": "^0.3.2",
    "graphql-yoga": "^5.10.10",
    "grunt": "1.3.0",
    "image-size": "^0.3.5",
    "insane": "^2.6.2",
    "ioredis": "^5.4.2",
    "jsdom": "^20.0.0",
    "jsonwebtoken": "^8.5.1",
    "knex": "^0.21.6",
    "knex-postgis": "^0.12.0",
    "kue": "^0.11.6",
    "kue-ui": "^0.1.0",
    "link-preview-js": "^3.0.5",
    "lodash": "4.17.21",
    "luxon": "^3.5.0",
    "md5": "^2.0.0",
    "mime": "^1.3.4",
    "mime-types": "^2.1.34",
    "minimist": "^1.1.0",
    "mixpanel": "^0.17.0",
    "node-fetch": "^2.7.0",
    "oidc-provider": "^7.11.3",
    "parse-redis-url": "0.0.2",
    "passport": "^0.2.1",
    "passport-facebook": "2.1.1",
    "passport-facebook-token": "3.3.0",
    "passport-google-oauth": "^2.0.0",
    "passport-google-token": "^0.1.2",
    "passport-jwt": "^4.0.0",
    "passport-linkedin-oauth2": "^1.2.1",
    "passport-linkedin-token-oauth2": "^0.1.3",
    "performance-now": "^2.1.0",
    "pg": "^8.4.1",
    "pg-format": "^1.0.4",
    "pluralize": "^8.0.0",
    "pretty-data": "^0.40.0",
    "promirepl": "^1.0.1",
    "randomstring": "^1.1.0",
    "rc": "~0.5.0",
    "request": "^2.51.0",
    "rollbar": "^2.0",
    "root-path": "^0.2.1",
    "rsa-pem-to-jwk": "^1.1.3",
    "sails": "^1.5.12",
    "sails-hook-sockets": "^3.0.1",
    "sanitize-filename": "^1.6.1",
    "semver": "^5.4.1",
    "sendwithus": "^2.8.0",
    "sharp": "^0.30.4",
    "socket.io-emitter": "^3.1.1",
    "stream-buffers": "^3.0.2",
    "stripe": "^6.15.0",
    "uuid": "^9.0.0",
    "validator": "^3.22.1",
    "wkx": "^0.5.0"
  },
  "standard": {
    "ignore": [
      "node_modules/**"
    ],
    "rules": {
      "camelcase": "off"
    },
    "global": [
      "after",
      "afterEach",
      "before",
      "beforeEach",
      "bookshelf",
      "describe",
      "expect",
      "it",
      "sails",
      "spy",
      "Activity",
      "Admin",
      "Aggregate",
      "Agreement",
      "Affiliation",
      "Analytics",
      "AssetManagement",
      "BlockedUser",
      "Collection",
      "CollectionsPost",
      "Comment",
      "CommentTag",
      "CommonRole",
      "ContextWidget",
      "CustomView",
      "CustomViewTopic",
      "Contribution",
      "Device",
      "Email",
      "EventInvitation",
      "EventResponse",
      "ExportService",
      "Extension",
      "FlaggedItem",
      "Frontend",
      "FullTextSearch",
      "Group",
      "GroupAgreement",
      "GroupExtension",
      "GroupMembership",
      "GroupJoinQuestion",
      "GroupJoinQuestionAnswer",
      "GroupRelationship",
      "GroupRelationshipInvite",
      "GroupRole",
      "GroupRoleResponsibility",
      "GroupTag",
      "GroupToGroupJoinQuestion",
      "GroupToGroupJoinRequestQuestionAnswer",
      "GroupWidget",
      "Invitation",
      "JoinRequest",
      "LinkedAccount",
      "LinkPreview",
      "Location",
      "ModerationAction",
      "Media",
      "MemberCommonRole",
      "MemberGroupRole",
      "Notification",
      "OneSignal",
      "PlayCrypto",
      "PlatformAgreement",
      "Post",
      "PostTag",
      "PostMembership",
      "PostUser",
      "ProjectRole",
      "ProjectContributions",
      "ProposalOption",
      "ProposalVote",
      "PushNotification",
      "Question",
      "Queue",
      "Reaction",
      "RequestValidation",
      "Responsibility",
      "RichText",
      "SavedSearch",
      "Search",
      "Skill",
      "Tag",
      "TagFollow",
      "Thank",
      "TokenAuth",
      "Track",
      "TrackPost",
      "TrackUser",
      "TopicFollow",
      "User",
      "UserConnection",
      "UserExternalData",
      "UserGroupAgreement",
      "UserExternalData",
      "UserSession",
      "UserVerificationCode",
      "Validation",
      "Widget",
      "ZapierTrigger",
      "ZapierTriggerGroup"
    ]
  },
  "nodemonConfig": {
    "ignore": [
      "npm-debug.log",
      ".tmp",
      "*.test.js"
    ]
  }
}
