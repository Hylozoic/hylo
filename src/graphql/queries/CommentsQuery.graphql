query CommentsQuery (
  $id: ID,
  $cursor: ID
) {
  post(id: $id) {
    id
    comments(first: 10, cursor: $cursor, order: "desc") {
      items {
        ...CommentFields
        childComments {
          items {
            ...CommentFields
          }
          total
          hasMore
        }
      }
      total
      hasMore
    }
  }
}

fragment CommentFields on Comment {
  id
  text
  creator {
    id
    name
    avatarUrl
  }
  attachments {
    id
    position
    type
    url
  }
  parentComment {
    id
  }
  createdAt
}
